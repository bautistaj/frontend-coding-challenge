<h1>
  Labour cost report
</h1>

<table>
  <thead>
    <tr>
      <th (click)="order('name')">
        Payroll provider <span class="arrow" *ngIf="columns.name" >{{ orderLstAsc ? '&#9650;':'&#9660;' }}</span>
      </th>
      <th (click)="order('workerCount')">
        Worker <span class="arrow" *ngIf="columns.workerCount" >{{ orderLstAsc ? '&#9650;':'&#9660;' }}</span>
      </th>
      <th (click)="order('complianceStats')">
        Compliance Score <span class="arrow" *ngIf="columns.complianceStats" >{{ orderLstAsc ? '&#9650;':'&#9660;' }}</span>
      </th>
      <th (click)="order('grossPayTotal')">
        Gross pay(£) <span class="arrow" *ngIf="columns.grossPayTotal">{{ orderLstAsc ? '&#9650;':'&#9660;' }}</span>
      </th>
      <th>
        Payroll admin(£)
      </th>
      <th (click)="order('labourCostTotal')">
        Labour coast(£) <span class="arrow" *ngIf="columns.labourCostTotal">{{ orderLstAsc ? '&#9650;':'&#9660;' }}</span>
      </th>
      <th (click)="order('workForce')">
        Work force <span class="arrow"  *ngIf="columns.workForce">{{ orderLstAsc ? '&#9650;':'&#9660;' }}</span>
      </th>
    </tr>
  </thead>
  <tbody *ngFor="let item of data">
    <tr *ngFor="let directContractor of item.directContractors">
      <td>
        {{ directContractor.name }}
      </td>
      <td class="number">
        {{ directContractor.workerCount }}
      </td>
      <td class="bold">
        {{ directContractor.complianceStats }} %
      </td>
      <td class="number">
        {{ directContractor.grossPayTotal | number:'1.0-0'}}
      </td>
      <td class="number">
        {{ directContractor.payrollAdminTotal === 0 ? '-' : directContractor.payrollAdminTotal}}
      </td >
      <td class="number">
        {{ directContractor.labourCostTotal | number:'1.0-0' }}
      </td>
      <td class="number">
        {{ directContractor.workForce | number: '1.1-1'}}
      </td>
    </tr>

    <tr *ngFor="let provider of providers">
      <td [class]="columns.name ? 'bold': '' ">
        {{ provider.name }}
      </td>
      <td class="number" [class]="columns.workerCount ? 'bold': '' ">
        {{ provider.workerCount }}
      </td>
      <td [class]="columns.complianceStats ? 'bold': '' ">
        {{ provider.complianceStats | number:'1.0-0' }} %
      </td>
      <td class="number" [class]="columns.grossPayTotal ? 'bold': '' ">
        {{ provider.grossPayTotal | number:'1.0-0' }}
      </td>
      <td>
        {{ provider.payrollAdminTotal === 0 ? '-' : provider.payrollAdminTotal}}
      </td>
      <td class="number" [class]="columns.labourCostTotal ? 'bold': '' ">
        {{ provider.labourCostTotal | number:'1.0-0' }}
      </td>
      <td class="number" [class]="columns.workForce ? 'bold': '' ">
        {{ provider.workForce | number: '1.1-1'}}
      </td>
    </tr>

    <tr class = "totals" *ngFor="let total of item.total">
      <td class="bold">
        {{ total.name }}
      </td>
      <td class="number bold">
        {{ total.workerCount }}
      </td>
      <td>
        {{ total.complianceStats | number:'1.0-0' }} %
      </td>
      <td class="number bold">
        {{ total.grossPayTotal | number:'1.0-0' }}
      </td>
      <td>
        {{ total.payrollAdminTotal === 0 ? '-' : total.payrollAdminTotal}}
      </td>
      <td class="number bold">
        {{ total.labourCostTotal | number:'1.0-0' }}
      </td>
      <td class="number bold">
        {{ total.workForce }}
      </td>
    </tr>
  </tbody>
</table>